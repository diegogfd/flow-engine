{
    "operation_type":"charge",
    "validations":[
        {
            "id":"amount_out_of_bounds",
            "field":"amount",
            "rule": {
                "type":"AND",
                "rule":[
                    {
                        "type":"GREATER_THAN",
                        "field": "amount",
                        "value_type": "double",
                        "value": 0,
                    },
                    {
                        "type":"LESS_THAN_OR_EQUAL",
                        "field": "amount",
                        "value_type": "double",
                        "value": 50000,
                    }
                ]
            }
        }
    ],
    "steps":[
        {
            "id":"set_amount",
            "required_fields":[
                "amount"
            ],
            "optional_fields":[
                "cart",
                "description"
            ]
        },
        {
            "id":"set_card_type",
            "required_fields":[
                "card_type"
            ],
        },
        {
            "id":"set_installments",
            "required_fields":[
                "installments"
            ],
            "rule":{
                "type":"AND",
                "rule":[
                    {
                        "type":"EQUALS",
                        "field": "card_type",
                        "value_type": "string",
                        "value": "credit_card",
                    },
                    {
                        "type":"GREATER_THAN_OR_EQUAL",
                        "field": "amount",
                        "value_type": "double",
                        "value": 100,
                    }
                ]
            }
        },
        {
            "id":"congrats",
            "required_fields":[
                "showed_payment_result"
            ],
        }
    ]
}

{
    "operation_type":"presential_refund",
    "steps":[
        {
            "id":"refund_intro",
            "required_fields":[
                "amount",
                "card_token_id",
                "payment_id"
            ],
            "optional_fields":null,
            "rules":null
        },
        {
            "id":"pairing",
            "required_fields":[
                "poi",
                "poi_type"
            ],
            "optional_fields":null,
            "rules":null
        },
        {
            "id":"get_working_key",
            "required_fields":[
                "working_key"
            ],
            "optional_fields":null,
            "rules":{
                "id":"equals",
                "value":{
                    "field_id":"poi_type",
                    "type":"string",
                    "value":"newland"
                }
            }
        },
        {
            "id":"read_card",
            "required_fields":[
                "card_data"
            ],
            "optional_fields":null,
            "rules":null
        },
        {
            "id":"do_presential_refund",
            "required_fields":[
                "refund_succeeded"
            ],
            "optional_fields":null,
            "rules":null
        },
        {
            "id":"congrats",
            "required_fields":[
                "showed_payment_result"
            ],
            "optional_fields":null,
            "rules":{
                "id":"equals",
                "value":{
                    "field_id":"refund_succeeded",
                    "type":"bool",
                    "value":true
                }
            }
        }
    ]
}
